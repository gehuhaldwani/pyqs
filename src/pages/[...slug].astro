---
import type { Props } from "utils/types.ts";
import { getCollection } from "astro:content";
import Explorer from "layouts/Explorer.astro";
import PdfViewer from "layouts/PdfViewer.astro";

export async function getStaticPaths() {
	const pyqsEntries = await getCollection("pyqs");
	return pyqsEntries.map((entry) => ({
		params: {
			slug: entry.data.path.replace("/pyqs", "").replace(".pdf", ""),
		},
		props: entry.data,
	}));
}

const entry = Astro.props;
---

{entry.type === "dir" ? <Explorer {...entry} /> : null}
{entry.type === "pdf" ? <PdfViewer {...entry} /> : null}
