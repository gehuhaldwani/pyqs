---
import { getCollection } from "astro:content";
import Explorer from "@/layouts/Explorer.astro";
import PdfViewer from "@/layouts/PdfViewer.astro";

export async function getStaticPaths() {
	const pyqsEntries = await getCollection("entries");
	return pyqsEntries.map((entry) => ({
		params: {
			slug: entry.data.path.replace("/pyqs", "").replace(".pdf", ""),
		},
		props: {
			entry: entry.data,
		},
	}));
}

import type { Entry } from "@/utils/types";

interface Props {
	entry: Entry;
}

const { entry } = Astro.props;
---

{entry.type === "dir" ? <Explorer entry={entry} /> : null}
{entry.type === "pdf" ? <PdfViewer entry={entry} /> : null}
